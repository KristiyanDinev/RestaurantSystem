<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
<script src="/assets/index.js"></script>
<script>
    (() => {
        const storedTheme = localStorage.getItem('theme');

        const getPreferredTheme = () => {
            if (storedTheme) return storedTheme;
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        };

        const setTheme = (theme) => {
            if (theme === 'auto') {
                document.documentElement.removeAttribute('data-bs-theme');
            } else {
                document.documentElement.setAttribute('data-bs-theme', theme);
            }
            localStorage.setItem('theme', theme);
            updateIcon(theme);
        };

        const updateIcon = (theme) => {
            const icon = document.querySelector('.theme-icon');
            icon.className = 'bi theme-icon'; // Reset

            switch (theme) {
                case 'light':
                    icon.classList.add('bi-sun', 'text-warning');
                    break;
                case 'dark':
                    icon.classList.add('bi-moon', 'text-info');
                    break;
                default:
                    icon.classList.add('bi-circle-half', 'text-secondary');
            }
        };

        // Initial setup
        setTheme(getPreferredTheme());

        document.querySelectorAll('[data-bs-theme-value]').forEach(btn => {
            btn.addEventListener('click', () => {
                const theme = btn.getAttribute('data-bs-theme-value');
                setTheme(theme);
            });
        });
    })();
    // Create and style the modal
const modal = document.createElement('div');
modal.style.display = 'none';
modal.style.position = 'fixed';
modal.style.top = '0';
modal.style.left = '0';
modal.style.width = '100%';
modal.style.height = '100%';
modal.style.backgroundColor = 'rgba(0,0,0,0.8)';
modal.style.zIndex = '1000';
modal.style.justifyContent = 'center';
modal.style.alignItems = 'center';
modal.style.cursor = 'pointer';

// Create the image container
const imgContainer = document.createElement('div');
imgContainer.style.position = 'relative';
imgContainer.style.maxWidth = '90%';
imgContainer.style.maxHeight = '90%';

// Create the close button
const closeBtn = document.createElement('span');
closeBtn.innerHTML = '&times;';
closeBtn.style.position = 'absolute';
closeBtn.style.top = '15px';
closeBtn.style.height = 'fit-content';
closeBtn.style.right = '15px';
closeBtn.style.backgroundColor = 'rgba(0,0,0,0.5)';
closeBtn.style.borderRadius = '10px';
closeBtn.style.padding = '3px 5px';
closeBtn.style.color = 'white';
closeBtn.style.fontSize = '30px';
closeBtn.style.fontWeight = 'bold';
closeBtn.style.cursor = 'pointer';
closeBtn.style.zIndex = '1001';

// Create the image element
const modalImg = document.createElement('img');
modalImg.style.maxWidth = '100%';
modalImg.style.maxHeight = '90vh';
modalImg.style.display = 'block';
modalImg.style.boxShadow = '0 0 20px rgba(0,0,0,0.5)';

// Assemble the modal
imgContainer.appendChild(closeBtn);
imgContainer.appendChild(modalImg);
modal.appendChild(imgContainer);
document.body.appendChild(modal);

// Make all images clickable
document.querySelectorAll('img').forEach(img => {
    // Skip if it's our modal image
    if (img !== modalImg) {
        img.style.cursor = 'pointer';
        img.addEventListener('click', function() {
            modal.style.display = 'flex';
            modalImg.src = this.src;
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        });
    }
});

// Close modal when clicking the X
closeBtn.addEventListener('click', closeModal);

// Close modal when clicking outside the image
modal.addEventListener('click', function(e) {
    if (e.target === modal) {
        closeModal();
    }
});

// Close with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeModal();
    }
});

function closeModal() {
    modal.style.display = 'none';
    document.body.style.overflow = 'auto'; // Re-enable scrolling
}





</script>
