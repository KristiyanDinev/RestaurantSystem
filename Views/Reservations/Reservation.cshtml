@model RestaurantSystem.Models.View.Reservation.ReservationFormViewModel;
@{
    ViewData["Title"] = "Make Reservation - Savans Restaurant";
}
<head>
    @await Html.PartialAsync("_Header")
    <script src='~/assets/reservations/reservations.js'></script>
</head>
<body>
    @await Html.PartialAsync("_NavBar", Model.User)
    @await Html.PartialAsync("_RestaurantBar", Model.Restaurant)

    <div class="bg-warning text-dark py-4 mb-4">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="display-6 mb-2 fw-bold">
                        <i class="bi bi-calendar-plus me-3"></i>Create Your Reservation
                    </h1>
                    <p class="mb-0 fw-medium">Reserve your table at Savans Restaurant</p>
                </div>
                <div class="col-md-4 text-md-end">
                    <i class="bi bi-calendar-check" style="font-size: 3rem; opacity: 0.4;"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid py-3">
        <!-- Reservation Form -->
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-6">
                <!-- Action Buttons -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <a href="/reservations" class="btn btn-outline-warning">
                        <i class="bi bi-arrow-left me-2"></i> Back to Reservations
                    </a>
                    <small class="text-muted">
                        <i class="bi bi-info-circle me-1"></i>
                        All fields marked with <span class="text-danger">*</span> are required
                    </small>
                </div>
                <div class="card border-warning shadow-lg">
                    <div class="card-header bg-warning text-dark">
                        <h4 class="card-title mb-0 fw-bold">
                            <i class="bi bi-person-plus me-2"></i>
                            Reservation Details
                        </h4>
                    </div>

                    <div class="card-body p-4">
                        <!-- Party Size Section -->
                        <div class="mb-4">
                            <h5 class="text-warning mb-3">
                                <i class="bi bi-people me-2"></i>Party Size
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="adults" class="form-label fw-semibold">
                                        <i class="bi bi-person-fill me-1"></i>Adults <span class="text-danger">*</span>
                                    </label>
                                    <input type="number" min="1" name="adults"
                                           id="adults" value="0"
                                           class="form-control form-control-lg"
                                           placeholder="Adults (18/18+ years)" required />
                                    <div class="form-text">
                                        <i class="bi bi-info-circle me-1"></i>
                                        Minimum 1 adult required
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="children" class="form-label fw-semibold">
                                        <i class="bi bi-person-hearts me-1"></i>Children <span class="text-danger">*</span>
                                    </label>
                                    <input type="number" min="0" id="children"
                                           value="0"
                                           class="form-control form-control-lg"
                                           placeholder="Children (under 18)"/>
                                </div>
                            </div>
                        </div>

                        <!-- Contact Information -->
                        <div class="mb-4">
                            <h5 class="text-warning mb-3">
                                <i class="bi bi-telephone me-2"></i>Contact Information
                            </h5>
                            <div class="row">
                                <div class="col-12">
                                    <label for="phone" class="form-label fw-semibold">
                                        <i class="bi bi-phone me-1"></i>Phone Number <span class="text-danger">*</span>
                                    </label>
                                    <input type="text" id="phone"
                                           class="form-control form-control-lg"
                                           placeholder="Your phone number for contact" />
                                    <div class="form-text">
                                        <i class="bi bi-info-circle me-1"></i> 
                                        We'll use your phone number to contact you about your reservation
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Date & Time -->
                        <div class="mb-4">
                            <h5 class="text-warning mb-3">
                                <i class="bi bi-calendar-event me-2"></i>Date & Time
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="at_date" class="form-label fw-semibold">
                                        <i class="bi bi-calendar-day me-1"></i>Reservation Date <span class="text-danger">*</span>
                                    </label>
                                    <input type="date" id="at_date"
                                           class="form-control form-control-lg" />
                                </div>
                                <div class="col-md-6">
                                    <label for="at_time" class="form-label fw-semibold">
                                        <i class="bi bi-clock me-1"></i>Reservation Time <span class="text-danger">*</span>
                                    </label>
                                    <input type="time" id="at_time"
                                           class="form-control form-control-lg" />
                                </div>
                            </div>
                        </div>

                        <!-- Notes Section -->
                        <div class="mb-4">
                            <h5 class="text-warning mb-3">
                                <i class="bi bi-chat-left-text me-2"></i>Special Requests
                            </h5>
                            <label for="notes" class="form-label fw-semibold">
                                <i class="bi bi-pencil me-1"></i>Notes (Optional)
                            </label>
                            <textarea id="notes" cols="40" rows="4" maxlength="255"
                                      class="form-control"
                                      placeholder="Any special requests, dietary restrictions, or additional information..."></textarea>
                            <div class="form-text">
                                <i class="bi bi-info-circle me-1"></i> 
                                Maximum 255 characters
                            </div>
                        </div>

                    </div>

                    <!-- Card Footer with Submit Button -->
                    <div class="card-footer bg-transparent border-warning">
                        <div class="d-grid gap-2 text-white">
                            <button type="button" class="btn btn-warning btn-lg fw-bold" onclick="submit()">
                                <i class="bi bi-check-circle me-2"></i>
                                Confirm Reservation
                            </button>
                        </div>
                        <div class="text-center mt-3">
                            <small class="text-muted">
                                <i class="bi bi-info-circle me-1"></i>
                                You can track your reservations in the <strong>Reservations</strong> tab
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @await Html.PartialAsync("_RestaurantFooter")
    </div>

    @await Html.PartialAsync("_Footer")
</body>